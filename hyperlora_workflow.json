{
  "3": {
    "class_type": "VAELoader",
    "inputs": { "vae_name": "sdxl_vae.safetensors" }
  },

  "4": {
    "class_type": "CLIPTextEncode",
    "inputs": {
      "text": "fcsks fxhks fhyks, {prompt}",
      "clip": ["15",1]
    }
  },

  "5": {
    "class_type": "CLIPTextEncode",
    "inputs": {
      "text": "{negative_prompt}",
      "clip": ["15",1]
    }
  },

  "6": {
    "class_type": "EmptyLatentImage",
    "inputs": {
      "width": 768,
      "height": 1024,
      "batch_size": 1
    }
  },

  "2": {
    "class_type": "HyperLoRAConfig",
    "inputs": {
      "clip_processor_name": "clip_vit_large_14_processor",
      "clip_vision_name": "clip_vit_large_14",
      "clip_frame_width": 1024,
      "clip_num_tokens": 64,
      "clip_num_layers": 12,
      "clip_num_heads": 4,
      "clip_num_mha_heads": 4,
      "face_extractor_method": "clip + arcface",
      "face_provider": "antelopev2",
      "face_dim": 512,
      "face_num_tokens": 16,
      "lora_target_dim": 128,
      "lora_num_heads": 8,
      "fidelity": true
    }
  },

  "3h": {
    "class_type": "HyperLoRALoader",
    "inputs": {
      "config": ["2",0],
      "hyper_lora_name": "sdxl_hyper_id_lora_v1_fidelity",
      "precision": "fp16"
    }
  },

  "17": {
    "class_type": "LoadImage",
    "inputs": { "image": "reference.png" }
  },

  "5b": {
    "class_type": "ImpactMakeImageBatch",
    "inputs": { "image1": ["17",0] }
  },

  "4h": {
    "class_type": "HyperLoRAFaceAttr",
    "inputs": {
      "hyper_lora": ["3h",0],
      "images": ["5b",0]
    }
  },

  "7h": {
    "class_type": "HyperLoRAIDCond",
    "inputs": {
      "hyper_lora": ["3h",0],
      "images": ["5b",0],
      "face_attr": ["4h",0]
    }
  },

  "8h": {
    "class_type": "HyperLoRAGenerateIDLoRA",
    "inputs": {
      "hyper_lora": ["3h",0],
      "id_cond": ["7h",0]
    }
  },

  "9h": {
    "class_type": "HyperLoRAApplyLoRA",
    "inputs": {
      "model": ["10",0],
      "lora": ["8h",0],
      "strength": 0.8
    }
  },

  "10": {
    "class_type": "CheckpointLoaderSimple",
    "inputs": { "ckpt_name": "pony_realism_23.safetensors" }
  },

  "15": {
    "class_type": "CLIPSetLastLayer",
    "inputs": { "clip": ["10",1] },
    "widgets_values": [-2]
  },

  "7": {
    "class_type": "KSampler",
    "inputs": {
      "seed": 0,
      "steps": 30,
      "cfg": 7,
      "sampler_name": "dpmpp_2m_sde",
      "scheduler": "karras",
      "denoise": 1,
      "model": ["9h",0],
      "positive": ["4",0],
      "negative": ["5",0],
      "latent_image": ["6",0]
    }
  },

  "8": {
    "class_type": "VAEDecode",
    "inputs": {
      "samples": ["7",0],
      "vae": ["3",0]
    }
  },

  "9": {
    "class_type": "SaveImage",
    "inputs": {
      "filename_prefix": "ComfyUI",
      "images": ["8",0]
    }
  }
}